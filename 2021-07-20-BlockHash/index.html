<!DOCTYPE html><html class="appearance-dark" lang="en"><head><meta charset="UTF-8"><title>Block Hash</title><meta name="description" content="Infosec Blog"><meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, initial-scale=1"><!-- Google Analytics --><!-- End Google Analytics -->
<!-- Baidu Analytics --><!-- End Baidu Analytics --><link rel="icon" href="/img/favicon.png"><link rel="stylesheet" href="/style/common/bulma.css"><link rel="stylesheet" href="/style/base.css"><link rel="stylesheet" href="/style/common/helper.css"><script src="/js/common.js"></script><link rel="stylesheet" href="/style/post.css"><link rel="stylesheet" href="/style/themes/highlight-theme-light.css"><script src="/js/highlight.pack.js"></script><meta name="description" content="
Image taken from here


In my last blog, I discussed about the concept of proof of work, nonce, difficulty, range of hash values and some calculations which finalizes the difficulty level. In this blog I am going to discuss about the block hash, various block headers specifically about the Bitcoin Blockchain.
1. What is a Block HashA block hash is a uniqu.."><meta name="generator" content="Hexo 5.4.0"></head><body class="is-flex is-flex-direction-column"><header class="header-widget is-flex-shrink-0 is-hidden-mobile"><div class="container is-fullhd is-flex is-justify-content-space-between is-align-items-center is-full-height"><section class="is-hidden-mobile is-flex-shrink-0"><h2><a href="/">vulnfreak's blog</a></h2></section><h3 class="is-hidden-mobile is-full-height is-flex is-align-items-center is-flex-shrink-0"><div class="is-full-height" id="postTopic"><p class="is-full-height is-flex-shrink-0 is-flex is-align-items-center is-justify-content-center">Block Hash</p><p class="is-full-height is-flex-shrink-0 is-flex is-align-items-center is-justify-content-center">Click back to the top</p></div></h3><aside class="is-flex-shrink-0"><h3 class="is-inline-block"><a href="/">Home</a></h3><h3 class="is-inline-block"><a href="/about">About</a></h3><h3 class="is-inline-block"><a href="/archives">Archives</a></h3></aside></div></header><header class="is-flex header-widget is-flex-shrink-0 is-align-items-center is-justify-content-center is-hidden-tablet"><h3 class="is-inline-block"><a href="/">Home</a></h3><h3 class="is-inline-block"><a href="/about">About</a></h3><h3 class="is-inline-block"><a href="/archives">Archives</a></h3></header><main><main class="container is-max-widescreen content section post-page pt-4 px-4"><div class="columns is-flex-desktop is-justify-content-center is-flex-direction-row-reverse"><div class="column is-3 is-hidden-mobile"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#1-What-is-a-Block-Hash"><span class="toc-text">1. What is a Block Hash</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-Block-Headers"><span class="toc-text">2. Block Headers</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3-Merkle-Root"><span class="toc-text">3. Merkle Root</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#4-Closer-Look-at-Block-Headers"><span class="toc-text">4. Closer Look at Block Headers</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#4-1-Block-Version"><span class="toc-text">4.1 Block Version</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-2-Previous-Block-Hash"><span class="toc-text">4.2 Previous Block Hash</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-3-Merkle-Root"><span class="toc-text">4.3 Merkle Root</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-4-Timestamp"><span class="toc-text">4.4 Timestamp</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-5-Bits"><span class="toc-text">4.5 Bits</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-6-Nonce"><span class="toc-text">4.6 Nonce</span></a></li></ol></li></ol></div><div class="column is-9"><header class="my-4"><a href="/tags/blockchain"><i class="tag post-item-tag">blockchain</i></a><a href="/tags/integrity"><i class="tag post-item-tag">integrity</i></a><a href="/tags/merkle%20tree"><i class="tag post-item-tag">merkle tree</i></a><a href="/tags/root"><i class="tag post-item-tag">root</i></a><a href="/tags/block%20headers"><i class="tag post-item-tag">block headers</i></a><a href="/tags/timestamp"><i class="tag post-item-tag">timestamp</i></a><a href="/tags/version"><i class="tag post-item-tag">version</i></a><a href="/tags/previous%20block%20hash"><i class="tag post-item-tag">previous block hash</i></a><a href="/tags/bits"><i class="tag post-item-tag">bits</i></a><a href="/tags/nonce"><i class="tag post-item-tag">nonce</i></a></header><h1 class="mt-0 mb-1" id="postTitle">Block Hash</h1><time class="has-text-grey" datetime="2021-07-20T01:40:00.000Z">2021-07-20</time><article class="mt-2 post-content"><img src="/assets/Blockchain/banner5.jpg" alt="image1" height="400" width="900"/>
<caption>Image taken from <a target="_blank" rel="noopener" href="https://img.etimg.com/thumb/msid-81993233,width-650,imgsize-753834,,resizemode-4,quality-100/blockchain-getty.jpg">here</a></caption>

<hr>
<p>In my last blog, I discussed about the concept of proof of work, nonce, difficulty, range of hash values and some calculations which finalizes the difficulty level. In this blog I am going to discuss about the block hash, various block headers specifically about the Bitcoin Blockchain.<br></p>
<h1 id="1-What-is-a-Block-Hash"><a href="#1-What-is-a-Block-Hash" class="headerlink" title="1. What is a Block Hash"></a>1. <u>What is a Block Hash</u></h1><p>A block hash is a unique hash of the block to maintain the integrity of the data stored in the block. Yeah, you got it right, it is the one for which miners are competing to find a specific hash starting with 19 zeroes or 20 zeroes or any number of zeroes in the beginning of the hash, to get the block reward. The picture below is the <a target="_blank" rel="noopener" href="https://www.blockchain.com/btc/block/00000000000000000008a89e854d57e5667df88f1cdef6fde2fbca1de5b639ad"><b>Block 691719</b></a> and its block hash is highlighted in red.<br></p>
<p><img src="/assets/Blockchain/hashblock.PNG" alt="hack"></p>
<br>
<br>

<h1 id="2-Block-Headers"><a href="#2-Block-Headers" class="headerlink" title="2. Block Headers"></a>2. <u>Block Headers</u></h1><p>To get the block hash the miners have to combine the block headers to get the particular hash starting with some zeroes. Actualy miners don’t have to combine, all this is the backend process of mining software, but you should be knowing this. Following are the block headers which are combined to get a block hash:<br></p>
<ol>
<li><b>Block Version</b></li>
<li><b>Previous Block Hash</b></li>
<li><b>Merkle Root</b></li>
<li><b>Timestamp</b></li>
<li><b>Bits</b></li>
<li><b>Nonce</b></li>
</ol>
<br>

<p>All the above six elements combine in order to get the block hash. <strong>BUT</strong> there is one header in the above list which is dynamic, which plays a ain role in finding the block hash, and that is <strong>Nonce</strong>. Nonce is the number (just a number) that miners add in the block header, in order to get the hash starting with specific number of 0s. Without this, it would be very easy for people to create a hash of the block, or also do some changes in the block and no one would have got to know that a change was done in the blockchain. I have discussed nonce in my previous blog. Here is the <a target="_blank" rel="noopener" href="https://blog.vulnfreak.org/2021-07-18-BlockchainPart4/#:~:text=34d43fece89b4dff57cebb297e60d16477ad4c9f797036f07514d1a75afdc9c0-,138Hello,-00bb645c75727a5e63a9d91d1230dd314697673a66530c445081a1cc81b43219">highlighted link</a> for the nonce in the example of my last blog. Nonce, the word was originated from <em>Nonsense</em>, which has no meaning in the block, but was added to get a specific format hash. I will talk about the merkle root in this blog, and rest headers I will discuss in upcoming blog.<br></p>
<h1 id="3-Merkle-Root"><a href="#3-Merkle-Root" class="headerlink" title="3. Merkle Root"></a>3. <u>Merkle Root</u></h1><p>There is a concept of merkle tree, which is just a tree, as seen in the subject Data Structures And Algorithms. This concept is use to store the transactions hashes so that if any changes are done in the transaction in the block, the immediately the hash of the parent node corresponding to the leaf node storing the transaction hash, will chage, which will consequently change the hash of merkle root. This helps to identify in which transaction the change was done, rather than traversing the whole tree. There is one special thing in this is, there are always two children of parent node, if somehow there is a single child of a parent node then it gets replicated and this is how that parent gets its two children.<br><br><strong>Now the question is, what data is stored in the leaves?</strong> The answer is, all the hashes of a transaction are stored in the leaves of the merkle tree. Let’s see with the below picture:<br></p>
<p><img src="/assets/Blockchain/tx1.png" alt="hack"><br><img src="/assets/Blockchain/tx2.png" alt="hack"><br><img src="/assets/Blockchain/tx3.png" alt="hack"></p>
<br>

<p>The above snaps are first few transactions of the <a target="_blank" rel="noopener" href="https://www.blockchain.com/btc/block/00000000000000000008a89e854d57e5667df88f1cdef6fde2fbca1de5b639ad"><b>block 691719</b></a>, you can see the whole list of transactions there in the block. The highlighted hash is the transaction hash, which is stored in the leaves of merkle tree. The leaves have the transaction hash and their corresponding parent nodes store the hash calculated from the hashes of their children. Let’s see with below diagram:<br></p>
<p><img src="/assets/Blockchain/merkletree.png" alt="hack"></p>
<caption>Image taken from <a target="_blank" rel="noopener" href="https://tutorialsdiary.com/wp-content/uploads/2018/10/Merkle_Tree_In_Blockchain.png">here</a></caption>

<br>

<p>In the above picture, <strong>T(A) T(B) T(C) T(D)</strong> are the transaction stored in a block, <strong>H(A) H(B) H(C) H(D)</strong> are their respective hashes of transactions just like I have highlighted above for block 691719 transactions in red. <strong>H(AB)</strong> and <strong>H(CD)</strong> are the hashes calculated by combining the hashes of <strong>H(A) H(B)</strong> and <strong>H(C) H(D)</strong> respectively. And <strong>H(ABCD)</strong> is the hash found by combining the hashes of <strong>H(AB)</strong> and <strong>H(CD)</strong>, which is also the merkle root.<br><br>If suppose you change something in transaction C or <strong>T(C)</strong>, then the hash <strong>H(C)</strong> will automatically change and therefore the hash <strong>H(CD)</strong> will change and therefore the hash <strong>H(ABCD)</strong> will get changed just like a chain reaction, and since the hash <strong>H(ABCD)</strong> is the merkle root, and used in the formation of block hash, the block hash will eventually change. On investigation, you can get the path of transaction whose value got changed with the help of another copy of ledger (blockchain database) which is stored with some other person, and you can revert that back. That’s why this merkle root is being used in block header for the creation of the block hash.</p>
<h1 id="4-Closer-Look-at-Block-Headers"><a href="#4-Closer-Look-at-Block-Headers" class="headerlink" title="4. Closer Look at Block Headers"></a>4. <u>Closer Look at Block Headers</u></h1><p>Let’s see the block headers with the help of snaps. The below snaps are from the <a target="_blank" rel="noopener" href="https://www.blockchain.com/btc/block/2021"><b>block 2021</b></a> and the snap of <strong>previous block hash</strong> is from <a target="_blank" rel="noopener" href="https://www.blockchain.com/btc/block/2020"><b>block 2020</b></a> because the previous block for block 2021 will be block 2020, and so is the block hash.<br></p>
<h2 id="4-1-Block-Version"><a href="#4-1-Block-Version" class="headerlink" title="4.1 Block Version"></a>4.1 <u>Block Version</u></h2><p><img src="/assets/Blockchain/version.png" alt="hack"></p>
<br>
<br>

<h2 id="4-2-Previous-Block-Hash"><a href="#4-2-Previous-Block-Hash" class="headerlink" title="4.2 Previous Block Hash"></a>4.2 <u>Previous Block Hash</u></h2><p><img src="/assets/Blockchain/prevblockhash.png" alt="hack"></p>
<br>
<br>

<h2 id="4-3-Merkle-Root"><a href="#4-3-Merkle-Root" class="headerlink" title="4.3 Merkle Root"></a>4.3 <u>Merkle Root</u></h2><p><img src="/assets/Blockchain/merkleroot.png" alt="hack"></p>
<br>
<br>

<h2 id="4-4-Timestamp"><a href="#4-4-Timestamp" class="headerlink" title="4.4 Timestamp"></a>4.4 <u>Timestamp</u></h2><p><img src="/assets/Blockchain/timestamp.png" alt="hack"></p>
<br>
<br>

<h2 id="4-5-Bits"><a href="#4-5-Bits" class="headerlink" title="4.5 Bits"></a>4.5 <u>Bits</u></h2><p><img src="/assets/Blockchain/bits.png" alt="hack"></p>
<br>
<br>

<h2 id="4-6-Nonce"><a href="#4-6-Nonce" class="headerlink" title="4.6 Nonce"></a>4.6 <u>Nonce</u></h2><p><img src="/assets/Blockchain/nonce2.png" alt="hack"></p>
<br>

<p>In this blog I have discussed about the concept of block headers, need of bloch headers, concept of merkle tree, need of merkle root in block header and nonce again. In next blog I will be discussing other concepts related to block header and other block header parts which were not discussed in this blog.</p>
</article><section class="jump-container is-flex is-justify-content-space-between my-6"><!-- em is empty placeholder--><em></em><a class="button is-default" href="/2021-07-18-BlockchainPart4/" title="Proof of Work"><span class="has-text-weight-semibold">Next: Proof of Work</span><i class="iconfont icon-next ml-2 has-text-grey"></i></a></section></div></div></main></main><footer class="is-flex is-flex-direction-column is-align-items-center is-flex-shrink-0"><section class="sns-container"><a title="twitter" target="_blank" rel="noopener nofollow" href="//twitter.com/vulnfreak"><i class="iconfont icon-twitter"></i></a><!-- Github--><a title="github" target="_blank" rel="noopener nofollow" href="//github.com/vulnfreak"><i class="iconfont icon-github"></i></a><!-- Ins--><a title="instagram" target="_blank" rel="noopener nofollow" href="//www.instagram.com/vulnfreak"><i class="iconfont icon-ins"></i></a><!-- RSS--><!-- 知乎--><!-- 领英--><a title="linkedin" target="_blank" rel="noopener nofollow" href="//www.linkedin.com/in/company/71482834/"><i class="iconfont icon-linkedin"></i></a><!-- 脸书--></section><p><span>Copyright ©</span><span> vulnfreak 2021</span></p><div class="is-flex is-justify-content-center is-flex-wrap-wrap"><p>Powered by Hexo &verbar;&nbsp;</p></div><div><span></span></div></footer><script async defer src="https://buttons.github.io/buttons.js"></script><script src="/js/post.js"></script></body></html>